!function(){"use strict";class e{constructor(e){this.element=e,this.urlList=[],this.onCloseBtnClick=this.onCloseBtnClick.bind(this),this.element.addEventListener("click",this.onCloseBtnClick)}static createLi(e,t){return`\n      <li class="img-item">\n      <img src="${t}" class="img">\n        <div class="close-button">X</div>\n        <span class="img-discription">${e}</span>\n      </li>\n    `}addToArray(e){this.urlList.push(e)}clear(){this.element.querySelectorAll(".img-item").forEach((e=>e.remove()))}render(){this.clear(),this.urlList.forEach((t=>{const i=e.createLi(t.description,t.url);this.element.insertAdjacentHTML("beforeend",i)}))}onCloseBtnClick(e){if(!e.target.classList.contains("close-button"))return;const t=e.target.closest(".img-item"),i=t.querySelector(".img").getAttribute("src"),s=this.urlList.findIndex((e=>e.url===i));this.urlList.splice(s,1),t.remove()}}new class{constructor(t){this.element=t,this.gallery=new e(document.querySelector(".bottom-container")),this.bottomContainer=document.querySelector(".bottom-container"),this.onSubmit=this.onSubmit.bind(this),this.element.addEventListener("submit",this.onSubmit)}onSubmit(e){e.preventDefault();const t=this.element.querySelector(".name").value,i=this.element.querySelector(".url").value,s=document.createElement("img");s.setAttribute("src",i),s.addEventListener("error",(()=>{console.log("you got it!"),this.element.reset()}));const n={url:i,description:t};this.gallery.addToArray(n),this.element.reset(),this.gallery.render()}}(document.querySelector(".main-form"))}();
//# sourceMappingURL=main.js.map